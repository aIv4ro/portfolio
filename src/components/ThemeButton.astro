---
import { useTranslation, type Locale } from '../i18n/i18n'
import Theme from './icons/Theme.astro'

const currentLocale = Astro.currentLocale as Locale
const t = useTranslation(currentLocale)
---

<button
  class='theme-button hover:text-link-hover'
  aria-label={t('aria.label.button.theme')}
>
  <Theme width={20} height={20} />
</button>
<script>
  const button = document.querySelector('.theme-button')
  const handleClick = (evt: any) => {
    evt.preventDefault()
  document.documentElement.classList.toggle('dark')
    const isDark = document.documentElement.classList.contains('dark')
    localStorage.setItem('theme', isDark ? 'dark' : 'light')
  }
  button?.addEventListener('click', handleClick)
</script>
